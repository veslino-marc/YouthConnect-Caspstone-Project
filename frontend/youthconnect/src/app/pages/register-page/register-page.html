<div class="register-wrapper">
	<div class="register-container">
		<div class="register-header">
			<h2>Youth Registration</h2>
			<div class="step-indicator">
				<div class="step" 
                        [class.active]="currentStep >= 1" 
                        [class.completed]="currentStep > 1">
					<div class="step-number">1</div>
					<div class="step-label">Personal Info</div>
				</div>
				<div class="step-line" 
                        [class.completed]="currentStep > 1"></div>
				<div class="step" 
                        [class.active]="currentStep >= 2" 
                        [class.completed]="currentStep > 2">
					<div class="step-number">2</div>
					<div class="step-label">Classification</div>
				</div>
			</div>
		</div>

		<form #regForm="ngForm">
			@if (currentStep === 1) {
				<div class="form-step">
					<h3>Personal Information</h3>
					<div class="form-grid">
						<div class="form-group">
							<label>First Name *</label>
							<input type="text" 
                                    name="firstName" 
                                    [(ngModel)]="profile.firstName" 
                                    required />
						</div>
						<div class="form-group">
							<label>Middle Name</label>
							<input type="text" 
                                    name="middleName" 
                                    [(ngModel)]="profile.middleName" />
						</div>
						<div class="form-group">
							<label>Last Name *</label>
							<input type="text" 
                                    name="lastName" 
                                    [(ngModel)]="profile.lastName" 
                                    required />
						</div>
						<div class="form-group">
							<label>Suffix</label>
							<select name="suffix" [(ngModel)]="profile.suffix">
								<option value="">None</option>
								<option value="Jr">Jr</option>
								<option value="Sr">Sr</option>
								<option value="III">III</option>
								<option value="IV">IV</option>
								<option value="V">V</option>
							</select>
						</div>
						<div class="form-group">
							<label>Gender *</label>
							<select name="gender" 
                                    [(ngModel)]="profile.gender" 
                                    required>
								<option value="">Select Gender</option>
								<option value="Male">Male</option>
								<option value="Female">Female</option>
								<option value="Other">Other</option>
							</select>
						</div>
						<div class="form-group">
							<label>Birthday *</label>
							<input type="date" 
									name="birthday" 
									[(ngModel)]="profile.birthday" 
									required />
						</div>
						<div class="form-group full-width">
							<label>Contact Number *</label>
							<input type="tel" 
									name="contactNumber" 
									[(ngModel)]="profile.contactNumber" 
									required />
						</div>
						<div class="form-group full-width">
							<label>Complete Address *</label>
							<input type="text" 
									name="completeAddress" 
									[(ngModel)]="profile.completeAddress" 
									required />
						</div>
						<div class="form-group full-width">
							<label>Civil Status *</label>
							<select name="civilStatus" 
									[(ngModel)]="profile.civilStatus" 
									required>
								<option value="">Select Status</option>
								<option value="Single">Single</option>
								<option value="Married">Married</option>
								<option value="Widowed">Widowed</option>
								<option value="Divorced">Divorced</option>
							</select>
						</div>
					</div>
				</div>
			}

			@if (currentStep === 2) {
				<div class="form-step">
					<h3>Youth Classification</h3>
					<div class="form-grid">
						<div class="form-group full-width">
							<label>Youth Classification *</label>
							<select name="youthClassification" 
									[(ngModel)]="classification.youthClassification" 
									required>
								<option value="">
									Select Classification
								</option>
								<option value="In-school Youth">
									In-school
								</option>
								<option value="Out-of-school Youth">
									Out-of-school
								</option>
								<option value="Working Youth">
									Working
								</option>
								<option value="Person with Disability">
									Person with Disability
								</option>
								<option value="Children in Conflict with Law">
									Children in Conflict with Law
								</option>
								<option value="Indigenous People">
									Indigenous People
								</option>
							</select>
						</div>
						<div class="form-group full-width">
							<label>Education Background *</label>
							<select name="educationBackground" 
									[(ngModel)]="classification.educationBackground" 
									required>
								<option value="">
									Select Education Level
								</option>
								<option value="Elementary Level">
									Elementary Level
								</option>
								<option value="Elementary Graduate">
									Elementary Graduate
								</option>
								<option value="High School Level">
									High School Level
								</option>
								<option value="High School Graduate">
									High School Graduate
								</option>
								<option value="Vocational Graduate">
									Vocational Graduate
								</option>
								<option value="College Level">
									College Level
								</option>
								<option value="College Graduate">
									College Graduate
								</option>
								<option value="Masters Level">
									Masters Level
								</option>
								<option value="Masters Graduate">
									Masters Graduate
								</option>
								<option value="Doctorate Level">
									Doctorate Level
								</option>
								<option value="Doctorate Graduate">
									Doctorate Graduate
								</option>
							</select>
						</div>
						<div class="form-group full-width">
							<label>Work Status *</label>
							<select name="workStatus" 
									[(ngModel)]="classification.workStatus" 
									required>
								<option value="">
									Select Work Status
								</option>
								<option value="Employed">
									Employed
								</option>
								<option value="Unemployed">
									Unemployed
								</option>
								<option value="Self-Employed">
									Self-Employed
								</option>
								<option value="Currently looking for job">
									Currently looking for job
								</option>
								<option value="Not interested in job">
									Not interested in job
								</option>
							</select>
						</div>
						<div class="form-group checkbox-group">
							<label>
								<input type="checkbox" 
										name="skVoter"
										[(ngModel)]="classification.skVoter" />
								SK Voter
							</label>
						</div>
						<div class="form-group checkbox-group">
							<label>
								<input type="checkbox" 
										name="nationalVoter" 
										[(ngModel)]="classification.nationalVoter" />
								National Voter
							</label>
						</div>
						<div class="form-group checkbox-group">
							<label>
								<input type="checkbox" 
										name="pastVoter" 
										[(ngModel)]="classification.pastVoter" />
								Past Voter
							</label>
						</div>
						<div class="form-group">
							<label>Number of Assemblies Attended</label>
							<input type="number" 
									name="numAttendedAssemblies" 
									[(ngModel)]="classification.numAttendedAssemblies" 
									min="0" />
						</div>
						<div class="form-group full-width">
							<label>
								Reason for Non-Attendance (if applicable)
							</label>
							<textarea
									name="nonAttendanceReason" 
									[(ngModel)]="classification.nonAttendanceReason">
							</textarea>
						</div>
					</div>
				</div>
			}

			<div class="form-actions">
				@if (currentStep > 1) {
					<button type="button" 
							class="btn btn-secondary" 
							(click)="prevStep()">
						Previous
					</button>
				}
				@if (currentStep < totalSteps) {
					<button type="button" 
							class="btn btn-primary" 
							(click)="nextStep()" 
							[disabled]="!isStep1Valid()">
						Next
					</button>
				}
				@if (currentStep === totalSteps) {
					<button type="button" 
							class="btn btn-success" 
							(click)="register()" 
							[disabled]="loading || !isStep2Valid()">
						Submit Registration
					</button>
				}
			</div>
		</form>

		@if (loading) {
			<div class="message loading">
				Registering your account...
			</div>
		}
		@if (success) {
			<div class="message success">
				✓ Registration successful! Redirecting to login...
			</div>
		}
		@if (error) {
			<div class="message error">
				✗ {{ error }}
			</div>
		}
	</div>
</div>