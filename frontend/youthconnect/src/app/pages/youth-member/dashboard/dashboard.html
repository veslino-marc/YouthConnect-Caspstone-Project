<div class="dashboard-container">
    <app-youth-sidebar></app-youth-sidebar>

    <div class="dashboard-content">
        <!-- Header Section -->
        <div class="dashboard-header">
            <div class="welcome-section">
                <h1>Welcome, {{ userName }}!</h1>
                <p class="email">{{ userEmail }}</p>
            </div>
            <div class="user-profile">
                <div class="avatar">{{ userInitials }}</div>
                <div class="user-info">
                    <span class="name">{{ fullName }}</span>
                    <span class="role">Youth Member</span>
                </div>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card blue-border">
                <span class="stat-number">{{ myConcerns }}</span>
                <span class="stat-label">My Concerns</span>
            </div>
            <div class="stat-card red-border">
                <span class="stat-number">{{ upcomingEvents }}</span>
                <span class="stat-label">Upcoming Events</span>
            </div>
            <div class="stat-card green-border">
                <span class="stat-number">{{ eventsJoined }}</span>
                <span class="stat-label">Events Joined</span>
            </div>
            <div class="stat-card yellow-border">
                <span class="stat-number">{{ resolvedConcerns }}</span>
                <span class="stat-label">Resolved Concerns</span>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="content-grid">
            <!-- Upcoming Events Section -->
            <div class="events-section">
                <h2 class="section-title">Upcoming Events</h2>
                <div class="events-list">
                    @for (event of events; track event.eventId) {
                    <div class="event-card" (click)="openEventDetails(event)">
                        <div class="event-date">{{ event.eventDate | date:'MMMM d, yyyy - h:mm a' }}</div>
                        <div class="event-name">{{ event.title }}</div>
                        <div class="event-location">
                            <span class="location-icon">üìç</span>
                            {{ event.location }}
                        </div>
                    </div>
                    }
                    @if (events.length === 0) {
                    <div class="no-events">No upcoming events</div>
                    }
                </div>
            </div>

            <!-- Notifications Section -->
            <div class="notifications-section">
                <h2 class="section-title-red">Notifications</h2>
                <div class="notifications-list">
                    @for (notification of notifications; track notification.id) {
                    <div class="notification-item">
                        <div class="notification-title">{{ notification.title }}</div>
                        <div class="notification-message">{{ notification.message }}</div>
                    </div>
                    }
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="btn-action btn-concern" routerLink="/youth-member/create-concern">
                <span class="btn-icon">üìã</span>
                Create Concern
            </button>
            <button class="btn-action btn-events" routerLink="/youth-member/events">
                <span class="btn-icon">üìÖ</span>
                Browse Events
            </button>
        </div>
    </div>
</div>

<!-- Event Details Modal -->
@if (showEventModal && selectedEvent) {
<div class="modal-overlay" (click)="closeEventModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2>Event Details</h2>
            <button class="close-btn" (click)="closeEventModal()">√ó</button>
        </div>
        <div class="modal-body">
            <h3 class="event-title">{{ selectedEvent.title }}</h3>
            <span class="status-badge">UPCOMING</span>

            <div class="detail-section">
                <label>üìù DESCRIPTION</label>
                <p>{{ selectedEvent.description }}</p>
            </div>

            <div class="detail-row">
                <div class="detail-item">
                    <label>üìç LOCATION</label>
                    <p>{{ selectedEvent.location }}</p>
                </div>
                <div class="detail-item">
                    <label>üïê DATE & TIME</label>
                    <p>{{ selectedEvent.eventDate | date:'EEEE, MMMM d, yyyy' }} at<br>{{ selectedEvent.eventDate |
                        date:'h:mm a' }}</p>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-close" (click)="closeEventModal()">Close</button>
        </div>
    </div>
</div>
}