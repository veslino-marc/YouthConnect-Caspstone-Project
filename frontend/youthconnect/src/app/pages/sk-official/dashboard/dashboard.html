<div class="dashboard-container">
    <app-sk-sidebar></app-sk-sidebar>

    <div class="dashboard-content">
        <!-- Header Section -->
        <div class="dashboard-header">
            <div class="welcome-section">
                <h1>Welcome, {{ userName }}!</h1>
                <p class="email">{{ userEmail }}</p>
            </div>
            <div class="user-profile">
                <div class="avatar">{{ userInitials }}</div>
                <div class="user-info">
                    <span class="name">{{ fullName }}</span>
                    <span class="role">SK Official</span>
                </div>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card blue-border">
                <span class="stat-number">{{ activeTasks }}</span>
                <span class="stat-label">Active Tasks</span>
            </div>
            <div class="stat-card red-border">
                <span class="stat-number">{{ upcomingEvents }}</span>
                <span class="stat-label">Upcoming Events</span>
            </div>
            <div class="stat-card green-border">
                <span class="stat-number">{{ pendingConcerns }}</span>
                <span class="stat-label">Pending Concerns</span>
            </div>
            <div class="stat-card yellow-border">
                <span class="stat-number">{{ youthMembers }}</span>
                <span class="stat-label">Youth Members</span>
            </div>
        </div>

        <!-- Main Content Grid -->
        <div class="content-grid">
            <!-- Upcoming Events Section -->
            <div class="events-section">
                <h2 class="section-title">Upcoming Events</h2>
                <div class="events-list">
                    @for (event of events; track event.eventId) {
                    <div class="event-card" (click)="openEventDetails(event)">
                        <div class="event-date">{{ event.eventDate | date:'MMMM d, yyyy - h:mm a' }}</div>
                        <div class="event-name">{{ event.title }}</div>
                        <div class="event-location">
                            <span class="location-icon">ğŸ“</span>
                            {{ event.location }}
                        </div>
                    </div>
                    }
                    @if (events.length === 0) {
                    <div class="no-events">No upcoming events</div>
                    }
                </div>
            </div>

            <!-- Recent Tasks Section -->
            <div class="tasks-section">
                <h2 class="section-title">Recent Tasks</h2>
                <div class="tasks-list">
                    @for (task of tasks; track task.id) {
                    <div class="task-card">
                        <div class="task-title">{{ task.title }}</div>
                    </div>
                    }
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="btn-action btn-task" routerLink="/sk-official/task-tracker">
                <span class="btn-icon">ğŸ“</span>
                New Task
            </button>
            <button class="btn-action btn-event" routerLink="/sk-official/create-event">
                <span class="btn-icon">ğŸ“…</span>
                New Event
            </button>
            <button class="btn-action btn-concern" routerLink="/sk-official/concerns">
                <span class="btn-icon">ğŸ“‹</span>
                View Concern
            </button>
        </div>
    </div>
</div>

<!-- Event Details Modal -->
@if (showEventModal && selectedEvent) {
<div class="modal-overlay" (click)="closeEventModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2>Event Details</h2>
            <button class="close-btn" (click)="closeEventModal()">Ã—</button>
        </div>
        <div class="modal-body">
            <h3 class="event-title">{{ selectedEvent.title }}</h3>
            <span class="status-badge">WAITING</span>

            <div class="detail-section">
                <label>ğŸ“ DESCRIPTION</label>
                <p>{{ selectedEvent.description }}</p>
            </div>

            <div class="detail-row">
                <div class="detail-item">
                    <label>ğŸ“ LOCATION</label>
                    <p>{{ selectedEvent.location }}</p>
                </div>
                <div class="detail-item">
                    <label>ğŸ• DATE & TIME</label>
                    <p>{{ selectedEvent.eventDate | date:'EEEE, MMMM d, yyyy' }} at<br>{{ selectedEvent.eventDate |
                        date:'h:mm a' }}</p>
                </div>
            </div>

            <div class="detail-section">
                <label>ğŸ‘¤ CREATED BY ADMIN ID</label>
                <p>{{ selectedEvent.createdByAdminId }}</p>
            </div>

            <div class="detail-row">
                <div class="detail-item">
                    <label>ğŸ“… CREATED</label>
                    <p>{{ selectedEvent.createdAt | date:'MMM d, yyyy, h:mm:ss a' }}</p>
                </div>
                <div class="detail-item">
                    <label>âœï¸ UPDATED</label>
                    <p>{{ selectedEvent.updatedAt | date:'MMM d, yyyy, h:mm:ss a' }}</p>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-close" (click)="closeEventModal()">Close</button>
        </div>
    </div>
</div>
}